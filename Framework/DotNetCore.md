# DotNet Core

一个开源的跨平台的框架

## 控制反转（Inversion of Control）

***

不需要主动去创建依赖对象，而是有一个容器专门来创建这些依赖对象，即由IOC容器去创建依赖对象


## 依赖注入（Dependency Injection）

***

dotnet core 自带依赖注入框架，支持三种不同生命周期的注入模式

### 三种生命周期

- singleton 单例模式

    整个应用程序生命周期内只创建一个实例

- scoped 区域模式

    对于每一个区域会创建一个实例，对于asp.net core应用，一个区域就是指一个服务器请求

- transient 瞬时模式

    每一次使用服务都会创建一个新的实例



 依赖注入本身就是为了控制反转,在解耦的同时，屏蔽了依赖对象的细节

 ### 三种注入方式

 - 构造器注入

    在构造函数中借助参数将依赖的对象注入到由它创建的对象之中

 - 属性注入

    通过InjectionAttribute特性的方式将属性设置为自动注入的依赖属性

 - 方法注入

    体现依赖关系的字段或属性可以通过方法的形式初始化


## 请求处理管道和中间件

   在dotnet core中请求处理管道由一个服务器和一组中间件来组成。

   ConfigureService用来注册服务 Configure用来加载中间件

   注册中间件的顺序和代码执行顺序是相反的，application在build方法执行的时候，将所有中间件进行了反转。

   ### 中间件和过滤器的区别

   中间件更多的是和业务无关的，比如Session存储，身份验证，
   过滤器更多的是用来实现返回值，异常等的统一处理。